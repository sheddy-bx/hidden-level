document.addEventListener("DOMContentLoaded",async()=>{const C="http://localhost:3000",g=document.querySelector("[dev-target=loader]"),t=document.querySelector("[dev-target=roles-wrapper]"),d=t==null?void 0:t.querySelector("[dev-target=roles-list]"),u=t==null?void 0:t.querySelector("[dev-target=category-item-template]");if(!t||!d||!u||!g)return console.error("Roles wrapper, roles list or loader or category item template not found");try{const e=await T();console.log({openings:e}),S({openings:e,rolesList:d,categoryItemTemplate:u,rolesWrapper:t,loader:g})}catch(e){console.error("Error fetching openings:",e)}function S({openings:e,rolesList:l,categoryItemTemplate:L,rolesWrapper:w,loader:x}){l.innerHTML="",Object.entries(e).sort(([s],[i])=>s==="Others"?1:i==="Others"?-1:s.localeCompare(i)).forEach(([s,i])=>{const c=L.cloneNode(!0),p=c.querySelector("[dev-target=category-question]"),h=c.querySelector("[dev-target=category-name]"),o=c.querySelector("[dev-target=category-roles-list]"),m=c.querySelector("[dev-target=role-item-template]");if(!h||!o||!m||!p)return console.error("Category name, roles list or categoryQuestion or role item template not found");h.textContent=s,o.innerHTML="",i.sort((r,n)=>r.jobTitle.localeCompare(n.jobTitle)).forEach(r=>{const n=m.cloneNode(!0),f=n.querySelector("[dev-target=title]"),a=n.querySelector("[dev-target=type]"),v=n.querySelector("[dev-target=location]"),q=n.querySelector("[dev-target=link]");if(!f||!a||!v||!q)return console.error("Role title, type, location or link not found");f.textContent=r.jobTitle,r.workerTypeCode?a.textContent=r.workerTypeCode:a.textContent="",v.textContent=`${r.cityName}, ${r.codeValue}`,q.href=r.openingLink,o.appendChild(n)}),p.addEventListener("click",function(){o.style.height==="0px"||o.style.height===""?o.style.height=o.scrollHeight+"px":o.style.height="0px"}),l.appendChild(c)}),y({element:x,toggle:"hide"}),y({element:w,toggle:"show"})}async function T(){try{return await(await fetch(`${C}/api/openings`)).json()}catch(e){throw console.error("Error fetching openings:",e),e}}function y({element:e,toggle:l}){l==="show"?e.setAttribute("dev-hide","false"):e.setAttribute("dev-hide","true")}});
//# sourceMappingURL=main.js.map
